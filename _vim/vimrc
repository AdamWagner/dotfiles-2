" don't care about vi compability (at the first to avoid bad surprise)
set nocompatible

" store useful path
let s:vim_conf = expand('<sfile>:p')
let s:vim_dir = fnamemodify(s:vim_conf, ':h') . '/.vim'

" Load plugins using pathogen
runtime bundle/pathogen/autoload/pathogen.vim
execute pathogen#infect(s:vim_dir . '/bundle/themes/{}', s:vim_dir . '/bundle/languages/{}', s:vim_dir . '/bundle/tools/{}')
execute pathogen#helptags()

" Theme
set t_Co=256            " enable 256 colors
colorscheme ir_black    " theme
syntax on		" syntax coloring

" 80 characters line convention
highlight OverLength ctermbg=red ctermfg=white guibg=#592929
match OverLength /\%81v.\+/

" File type detection
filetype plugin indent on

" Options
set shell=zsh           " set shell for :sh
set expandtab           " insert `shiftwidth` spaces when using <Tab>
set shiftwidth=2        " n spaces when using <Tab>
set ignorecase          " ignore case when searching
set smartcase           "   `-> except if there is one uppercase character
set wildmenu            " better command line completion menu
set wildmode=list:longest,full " `-> better
set wildignore+=*.o,*.pyc,*.sw*,*~ " ignore those files in completion
set showcmd             " show (partial) command in the last line of the screen
set showmatch           " show the matching bracket when inserting
set matchtime=3         " tenths of second to show the matching bracket
set scrolloff=8         " keep at least 8 lines after the cusor when scrolling
set cpoptions=ces$      " make the 'cw' and like commands put a $ at the end
set wrap                " split the line if it is too long
set autoread            " watch for file changes by other programs
set incsearch           " show matches as soon as posseble
set hlsearch            " highlight last search matches
set laststatus=2        " set the status line always on
set timeoutlen=500      " time to wait when a part of a maped sequence is typped
set wrapscan            " searches wrap around the end of the file
set number              " show line number
set ruler               " show line number
set autoindent          " auto-indentation (most of time override by plugins)
set shortmess+=I        " disable vim welcome message
set encoding=utf-8      " ensure proper encoding
set foldmethod=manual   " ensure that no foldmethod is enabled
set nohidden            " When I close a tab, remove the buffer

" Fix backspace (on some OS/term)
set backspace=2
set backspace=indent,eol,start

" Binds
" - set leading key
let mapleader = ','
" - easily move in tab
map <S-h> gT
map <S-l> gt
" - easily create/delete tabs
cabbrev tn tabnew
cabbrev tc tabclose
cabbrev tm tabmove
" - remap `jj` to escape in insert mode
inoremap jj <Esc>
" - up and down are more logical with g..
nnoremap <silent> k gk
nnoremap <silent> j gj
" - center on the found line in a search
map N Nzz
map n nzz

" Plugins configuration
"  - narrowregion
map <Leader>nw :NarrowWindow<CR>
"  - nerdcommenter
map <Leader>nc <Leader>c<space>
"  - nerdtree
map <Leader>nt :NERDTreeToggle<CR>
"  - vim-easymotion
map <Leader><Leader>w <Leader>em
"  - vim-powerline
set noshowmode          "hide the duplicate mode in bottom status bar
